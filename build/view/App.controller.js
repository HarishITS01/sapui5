sap.ui.controller("view.App",{onInit:function(){jQuery.sap.require("jquery.sap.history"),jQuery.sap.history({routes:[{path:"page",handler:jQuery.proxy(this.historyPageHandler,this)}],defaultHandler:jQuery.proxy(this.historyDefaultHandler,this)});var a=sap.ui.getCore().getEventBus();a.subscribe("nav","to",this.navToHandler,this),a.subscribe("nav","to2",this.navTo2Handler,this),a.subscribe("nav","back",this.navBackHandler,this)},historyPageHandler:function(a,e){a&&a.id?this.navTo(a.id,!1,e,null):jQuery.sap.log.error("invalid page parameter: "+a)},historyDefaultHandler:function(a){this.navTo("view.Main",!1,a,null)},navToHandler:function(a,e,i){i&&i.id?this.navTo(i.id,!0,null,i.data):jQuery.sap.log.error("nav-to event cannot be processed. Invalid data: "+i)},navTo2Handler:function(a,e,i){i&&i.id?this.navTo2(i.id,!0,null,i.data):jQuery.sap.log.error("nav-to event cannot be processed. Invalid data: "+i)},navBackHandler:function(){jQuery.sap.history.back(),jQuery.sap.log.info("navBack")},navToSplit:function(a,e,i){var o,r=this.getView().app,n=i.viewName,t=i.viewId,s=i.data,d=i.navType;if(t||(t=n),!t)return void jQuery.sap.log.error("navTo failed due to insufficient params: "+t);var u=-1!==t.indexOf("view.CreatePO.");d===jQuery.sap.history.NavType.Back?u&&r.backMaster():(sap.ui.getCore().byId(t)||(jQuery.sap.log.info("now loading view with name '"+n+"'"),o=sap.ui.jsview(t,n),u?r.addMasterPage(o):r.addDetailPage(o)),u?r.toMaster(t,s):r.toDetail(t,s)),d||!u&&!jQuery.device.is.phone||jQuery.sap.history.addHistory("page",{id:t},!1),jQuery.sap.log.info("navTo '"+t+"' ("+(!d&&u)+","+d+")")},navTo:function(a,e,i,o){if(void 0===a)return void jQuery.sap.log.error("navTo failed due to missing id");var r=this.getView().app;i===jQuery.sap.history.NavType.Back?r.backToPage(a):(null===r.getPage(a)&&(jQuery.sap.log.info("now loading page '"+a+"'"),r.addPage(sap.ui.jsview(a,"view."+a))),r.to(a,o)),(void 0===e||e)&&jQuery.sap.history.addHistory("page",{id:a},!1),jQuery.sap.log.info("navTo '"+a+"' ("+e+","+i+")")},navTo2:function(a,e,i,o){if(void 0===a)return void jQuery.sap.log.error("navTo failed due to missing id");var r=this.getView().app;i===jQuery.sap.history.NavType.Back?r.backToPage(a):(null===r.getPage(a)&&(jQuery.sap.log.info("now loading page '"+a+"'"),r.addPage(sap.ui.jsview(a,"view."+a))),r.to(a,"flip",o)),(void 0===e||e)&&jQuery.sap.history.addHistory("page",{id:a},!1),jQuery.sap.log.info("navTo2 '"+a+"' ("+e+","+i+")")}});